#!/usr/bin/env php
<?php

namespace Idrinth\Quickly\Commands;

use Idrinth\Quickly\CommandLineOutputs\Colorless;

require (is_dir(__DIR__ . '/../vendor') ? __DIR__ . '/../vendor' : __DIR__ . '/../../..').'/autoload.php';

$output = new Colorless();

$command = match ($argv[1] ?? null) {
    'build' => new Build($output),
    'validate' => new Validate($output),
    default => new Help($output),
};
exit($command->run($argv[2] ?? null));
